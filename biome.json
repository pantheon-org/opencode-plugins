{
  "$schema": "https://biomejs.dev/schemas/2.3.11/schema.json",
  "vcs": { "enabled": true, "clientKind": "git", "useIgnoreFile": true },
  "files": { "includes": ["**", "!!**/dist"] },
  "formatter": {
    "enabled": true,
    "formatWithErrors": false,
    "indentStyle": "space",
    "indentWidth": 2,
    "lineEnding": "lf",
    "lineWidth": 120,
    "attributePosition": "auto",
    "bracketSameLine": false,
    "bracketSpacing": true,
    "expand": "auto",
    "useEditorconfig": true,
    "includes": [
      "**",
      "!**/node_modules",
      "!**/dist",
      "!**/build",
      "!**/coverage",
      "!**/*.lock",
      "!**/bun.lock",
      "!**/pnpm-lock.yaml",
      "!**/package-lock.json",
      "!**/yarn.lock",
      "!**/.nx",
      "!**/.cache",
      "!**/*.log",
      "!**/.DS_Store",
      "!./.nx/cache",
      "!./.nx/workspace-data"
    ]
  },
  "linter": {
    "enabled": true,
    "rules": {
      "recommended": true,
      "complexity": {
        "noExcessiveCognitiveComplexity": {
          "level": "warn",
          "options": { "maxAllowedComplexity": 15 }
        }
      },
      "correctness": {
        "noUnusedVariables": "error"
      },
      "style": {
        "useImportType": "error",
        "useNodejsImportProtocol": "error",
        "useNumberNamespace": "error",
        "useForOf": "error",
        "noNegationElse": "off"
      },
      "suspicious": {
        "noDoubleEquals": "error"
      }
    },
    "includes": [
      "**",
      "!node_modules/",
      "!dist/",
      "!build/",
      "!.nx/",
      "!coverage/",
      "!bun.lock"
    ]
  },
  "javascript": {
    "formatter": {
      "jsxQuoteStyle": "double",
      "quoteProperties": "asNeeded",
      "trailingCommas": "all",
      "semicolons": "always",
      "arrowParentheses": "always",
      "bracketSameLine": false,
      "quoteStyle": "single",
      "attributePosition": "auto",
      "bracketSpacing": true
    }
  },
  "html": {
    "formatter": {
      "indentScriptAndStyle": false,
      "selfCloseVoidElements": "always"
    }
  },
  "overrides": [
    {
      "includes": ["*.json", "*.json5", "*.jsonc"],
      "javascript": { "formatter": { "quoteStyle": "double" } },
      "formatter": { "indentWidth": 2, "lineWidth": 80 }
    },
    { "includes": ["*.md"], "formatter": { "lineWidth": 120 } },
    { "includes": ["**/*.json"], "javascript": { "globals": [] } },
    {
      "includes": ["**/*.ts", "**/*.tsx"],
      "javascript": {
        "globals": [
          "require",
          "console",
          "__filename",
          "module",
          "process",
          "Buffer",
          "__dirname",
          "exports"
        ]
      },
      "linter": {
        "rules": {
          "complexity": {
            "noBannedTypes": "error",
            "noUselessThisAlias": "error",
            "noUselessTypeConstraint": "error"
          },
          "correctness": {
            "noUndeclaredVariables": "off",
            "noUnusedVariables": "error"
          },
          "style": {
            "noCommonJs": "error",
            "noNamespace": "error",
            "useArrayLiterals": "error",
            "useAsConstAssertion": "error",
            "useConst": "error"
          },
          "suspicious": {
            "noExplicitAny": "warn",
            "noExtraNonNullAssertion": "error",
            "noMisleadingInstantiator": "error",
            "noNonNullAssertedOptionalChain": "error",
            "noTsIgnore": "error",
            "noUnsafeDeclarationMerging": "error",
            "noVar": "error",
            "useNamespaceKeyword": "error"
          }
        }
      }
    },
    {
      "includes": ["**/*.test.ts", "**/*.spec.ts", "**/types/bun-test.d.ts"],
      "linter": {
        "rules": {
          "complexity": {
            "noExcessiveCognitiveComplexity": "off"
          },
          "suspicious": {
            "noExplicitAny": "off"
          }
        }
      }
    },
    {
      "includes": [
        "packages/opencode-notification/src/notifier.ts",
        "packages/opencode-config/src/loader.ts",
        "libs/docs-builder/test-links.js",
        "packages/opencode-warcraft-notifications-plugin/pages/test-links.js",
        "packages/opencode-warcraft-notifications-plugin/src/notification.ts",
        "packages/opencode-warcraft-notifications-plugin/src/schema-validator.ts",
        "packages/opencode-font/scripts/**/*.ts",
        "tools/executors/**/*.ts",
        "tools/executors/**/*.test.ts"
      ],
      "linter": {
        "rules": {
          "complexity": {
            "noExcessiveCognitiveComplexity": "off"
          },
          "suspicious": {
            "noExplicitAny": "off",
            "noAssignInExpressions": "off"
          },
          "style": {
            "noNonNullAssertion": "off",
            "noCommonJs": "off"
          }
        }
      }
    },
    {
      "includes": ["packages/opencode-font/**/*"],
      "linter": { "enabled": false },
      "formatter": { "enabled": false }
    },
    {
      "includes": ["**/*.js", "**/*.jsx"],
      "javascript": {
        "globals": [
          "require",
          "console",
          "__filename",
          "module",
          "process",
          "Buffer",
          "__dirname",
          "exports"
        ]
      }
    }
  ],
  "assist": {
    "enabled": true,
    "actions": { "source": { "organizeImports": "on" } }
  }
}
